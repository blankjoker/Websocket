
<!DOCTYPE HTML>
<html>
   <head>
   <meta charset="utf-8">
   <title>WebSocket测试(runoob.com)</title>
   
    <style type="text/css">
       #juhzong{
         margin: 0 auto;
         width: 320px;
         height: 280px;
         text-align: center;
         background-color: #A9A9A9;

       }
    </style>


   <script type="text/javascript">
      var ws;
         function Connect()
         {
            if ("WebSocket" in window)
            {
               alert("您的浏览器支持 WebSocket!");
               
               // 打开一个 web socket
               ws = new WebSocket("ws://172.26.184.244:8000");
                
               ws.onopen = function()
               {
                  ws.send("text");
                  alert("连接成功...");
               };
                
            }
            
            else
            {
               // 浏览器不支持 WebSocket
               alert("您的浏览器不支持 WebSocket!");
            }

            ws.onmessage = sMessage;

         }

         function sMessage(evt)
         {
            // var recv_data = evt.data;
            alert("recv data!");
            var recv_data = evt.data;
            recv_msg.value = recv_data;

         }

         function Send()
         {
            ws.send(document.getElementById("send_msg").value);
         }

         function Close()
         {
            ws.close();
         }

         ws.onclose = function()
         {
            alert("connect is close!");
         }

    </script>
        
   </head>
   <body>
   
      <div id="juhzong">
         <button id="connect" onclick="Connect();"> 连接 </button> <br /><br />
         <input id="send_msg" type="text" value="请输入查询的地址">
         <button id="send" onclick="Send();"> 发送 </button> <br /><br />
         <input id="recv_msg" type="text" value="请输入查询的地址">
         <button id="recv"> 接收 </button> <br /><br />
         <button id="close" onclick="Close();" >关闭 </button> <br /><br />
      </div>
      
   </body>
</html>
